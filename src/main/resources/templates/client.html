<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client Page</title>
</head>
<body>
<h1>View client Information</h1>

<!-- Form to create a client -->
<h2>Create Your Profile</h2>
<label for="clientName">Name:</label>
<input type="text" id="clientName"><br>
<label for="clientEmail">Email:</label>
<input type="email" id="clientEmail"><br>
<button onclick="createClient()">Create Client</button>

<!-- Form to update client -->
<h2>Update your Profile Information</h2>
<label for="clientId">Client ID:</label>
<input type="text" id="clientId"><br>
<button onclick="updateClient()">Update information</button>

<!-- Button to view client information -->
<h2>View your information</h2>
<label for="clientId">Client ID:</label>
<input type="text" id="clientId"><br>
<button onclick="viewClient()">View Client Info</button>

<!-- Form to create an animal -->
<h2>Add animal information</h2>
<label for="animalName">Name:</label>
<input type="text" id="animalName"><br>
<label for="animalSpecies">Species:</label>
<input type="text" id="animalSpecies"><br>
<label for="animalAge">Age:</label>
<input type="number" id="animalAge"><br>
<button onclick="createAnimal()">Create Animal</button>

<!-- Form to update animal -->
<h2>Update Animal information</h2>
<label for="animalId">Animal ID:</label>
<input type="text" id="animalId"><br>
<button onclick="updateAnimal()">Update Animal information</button>
</body>
<script>

  async function createClient() {
      const clientData = {
          name: document.getElementById('clientName').value,
          email: document.getElementById('clientEmail').value,
      };

      try {
          const response = await fetch('/api/clients', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify(clientData),
          });
          const result = await response.text();
          alert(result);
      } catch (error) {
          console.error('Error creating client:', error);
      }
  }


  async function updateClient() {
      const clientId = document.getElementById('clientId').value;
      const updatedData = {
          name: document.getElementById('clientName').value,
          email: document.getElementById('clientEmail').value,
      };

      try {
          const response = await fetch(`/api/clients/${clientId}`, {
              method: 'PUT',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify(updatedData),
          });
          const result = await response.text();
          alert(result);
      } catch (error) {
          console.error('Error updating client:', error);
      }
  }

  async function viewClient() {
      const clientId = document.getElementById('clientId').value;

      try {
          const response = await fetch(`/api/clients/${clientId}`);
          const data = await response.json();
          alert('Client Info: ' + JSON.stringify(data));
      } catch (error) {
          console.error('Error fetching client information:', error);
      }
  }

  async function createAnimal() {
      const animalData = {
          name: document.getElementById('animalName').value,
          species: document.getElementById('animalSpecies').value,
          age: document.getElementById('animalAge').value,
      };

      try {
          const response = await fetch('/api/animals', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify(animalData),
          });
          const result = await response.text();
          alert(result);
      } catch (error) {
          console.error('Error creating animal:', error);
      }
  }

  async function updateAnimal() {
      const animalId = document.getElementById('animalId').value;
      const updatedData = {
          name: document.getElementById('animalName').value,
          species: document.getElementById('animalSpecies').value,
          age: document.getElementById('animalAge').value,
      };

      try {
          const response = await fetch(`/api/animals/${animalId}`, {
              method: 'PUT',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify(updatedData),
          });
          const result = await response.text();
          alert(result);
      } catch (error) {
          console.error('Error updating animal:', error);
      }
  }
</script>
</html>
